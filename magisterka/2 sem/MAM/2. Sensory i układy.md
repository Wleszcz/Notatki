# 1\. **Podstawowe pojęcia – czym jest sensor / czujnik**

## 1.1. Definicje

- **Czujnik (sensor)** – element urządzenia pomiarowego reagujący na zmiany mierzonej wielkości.
    
- W kontekście smartfonów czujniki dostarczają informacji o:
    
    - ruchu,
        
    - orientacji,
        
    - położeniu,
        
    - właściwościach otoczenia.
        

* * *

# 2\. **Klasyfikacja czujników w urządzeniach mobilnych**

## 2.1. Sensory ruchu (motion sensors)

- Mierzą przyspieszenia i siły obrotowe.
    
- Przykłady:
    
    - **akcelerometr**,
        
    - **żyroskop**,
        
    - **krokomierz**,
        
    - czujniki rotacji urządzenia.
        

## 2.2. Sensory położenia (position sensors)

- Określają pozycję lub obrót względem odniesienia (np. północy magnetycznej).
    
- Przykłady:
    
    - **magnetometr**,
        
    - **czujnik odległości**,
        
    - **orientacja urządzenia**.
        

## 2.3. Sensory środowiskowe (environmental sensors)

- Mierzą parametry otoczenia:
    
    - jasność,
        
    - temperaturę,
        
    - ciśnienie,
        
    - wilgotność.
        

* * *

# 3\. **Sensory sprzętowe i programowe**

## 3.1. Sensory sprzętowe (hardware-based)

- Fizyczne komponenty mierzące rzeczywiste wartości.
    
- Przykłady: akcelerometr, magnetometr, barometr.
    

## 3.2. Sensory programowe (software-based)

- Tzw. „sensory wirtualne”.
    
- Ich wartości są **obliczane** na podstawie innych czujników.
    
- Przykłady:
    
    - **przyspieszenie liniowe** → akcelerometr – grawitacja,
        
    - **wektor rotacji** → żyroskop + magnetometr,
        
    - **orientacja (pitch, roll, azymut)** wyliczana z macierzy obrotu.
        

* * *

# 4\. **Android Sensor Framework – podstawy API**

## 4.1. SensorManager

- Dostarcza listę dostępnych czujników.
    
- Pozwala rejestrować nasłuchiwacze zdarzeń (`SensorEventListener`).
    
- Ma metody pomocnicze, m.in.:
    
    - `getOrientation()`,
        
    - `getAltitude()`.
        

## 4.2. Sensor

- Obiekt reprezentujący pojedynczy czujnik fizyczny lub programowy.

## 4.3. SensorEvent

- Dane z czujnika:
    
    - `values: FloatArray`,
        
    - `accuracy: Int`,
        
    - `timestamp: Long`.
        

## 4.4. SensorEventListener

- Dwie kluczowe metody:
    
    - `onSensorChanged(event)` – wywoływana przy każdej aktualizacji,
        
    - `onAccuracyChanged(sensor, accuracy)`.
        

* * *

# 5\. **Ważne typy czujników (TYPE_...)**

Niektóre z kluczowych stałych:

### Czujniki ruchu:

- `TYPE_ACCELEROMETER`
    
- `TYPE_LINEAR_ACCELERATION`
    
- `TYPE_GYROSCOPE`
    

### Czujniki położenia:

- `TYPE_MAGNETIC_FIELD`
    
- `TYPE_GEOMAGNETIC_ROTATION_VECTOR`
    
- `TYPE_GAME_ROTATION_VECTOR`
    

### Czujniki środowiskowe:

- `TYPE_LIGHT`
    
- `TYPE_PRESSURE` (barometr)
    
- `TYPE_AMBIENT_TEMPERATURE`
    
- `TYPE_RELATIVE_HUMIDITY`
    

### Aktywność fizyczna:

- `TYPE_STEP_COUNTER`
    
- `TYPE_STEP_DETECTOR`
    
- `TYPE_HEART_RATE`
    

* * *

# 6\. **Stałe fizyczne i referencyjne w SensorManager**

## 6.1. Oświetlenie (lux)

- `LIGHT_SUNLIGHT` ≈ 110 000 lux (pełne słońce)
    
- `LIGHT_CLOUDY` ≈ 100 lux
    
- `LIGHT_FULLMOON` ≈ 0.25 lux
    

## 6.2. Pole magnetyczne Ziemi

- `MAGNETIC_FIELD_EARTH_MIN` ≈ 30 μT
    
- `MAGNETIC_FIELD_EARTH_MAX` ≈ 60 μT
    

## 6.3. Grawitacja

- `GRAVITY_EARTH` ≈ 9.80665 m/s²
    
- `GRAVITY_MOON` ≈ 1.6 m/s²
    
- `GRAVITY_MARS` ≈ 3.71 m/s²
    
- Humorystyczne: `GRAVITY_DEATH_STAR_I`
    

* * *

# 7\. **Google Fit API — wykorzystanie sensorów fitness**

Interfejsy:

- **SensorsClient** – dane na żywo (np. liczba kroków).
    
- **RecordingClient** – zbieranie danych w tle przy oszczędzaniu baterii.
    
- **HistoryClient** – zapis i późniejszy odczyt.
    
- **GoalsClient** – integracja celu aktywności z zapisanymi danymi.
    

* * *

# 8\. **Sensory w emulatorze Androida**

Z poziomu „Extended Controls” można symulować:

- ruch urządzenia (X/Y/Z, rotacja),
    
- temperaturę otoczenia,
    
- światło,
    
- ciśnienie,
    
- wilgotność,
    
- pole magnetyczne,
    
- czujniki odległości.
    

Przydatne podczas testowania bez dostępu do fizycznego sensora.

* * *

# 9\. **Układy odniesienia w urządzeniach mobilnych**

## 9.1. Body frame (układ związany z urządzeniem)

- Osie **X, Y, Z są przypisane na sztywno** do telefonu.
    
- Układ **nie obraca się**, gdy zmieniamy orientację ekranu (portrait ↔ landscape).
    
- Wykorzystywany przez:
    
    - akcelerometr,
        
    - żyroskop,
        
    - magnetometr.
        

Ilustracja (str. 13) pokazuje układ osi telefonu.

* * *

## 9.2. Moving frame (lokalny układ związany z powierzchnią Ziemi)

- Oś **Z**: skierowana do góry (prostopadle do Ziemi).
    
- Oś **Y**: w kierunku **północnym**.
    
- Oś **X**: na **wschód** (iloczyn wektorowy Y × Z).
    
- Wykorzystywany do wyznaczania orientacji urządzenia.
    

* * *

# 10\. **Orientacja urządzenia i pojęcia azymutu**

## 10.1. Definicje:

- **Azymut** – kąt względem północy magnetycznej (nie mylić z yaw!).
    
- **Pitch (oś X)** – pochylenie przód–tył.
    
- **Roll (oś Y)** – przechylenie na boki.
    
- **Z (Heading)** – kierunek wskazywany „nosem” urządzenia.
    

Obraz z samolotem (str. 15) dobrze wizualizuje te osie.

* * *

# 11\. **Globalne układy współrzędnych dla geolokalizacji**

## 11.1. ECEF (Earth-Centered, Earth-Fixed)

- Kartezjański układ ze środkiem w **centrum masy Ziemi**.
    
- Oś **X** – przecięcie równika i południka zerowego (Greenwich).
    
- Oś **Y** – 90°E na równiku.
    
- Oś **Z** – w stronę północy geograficznej.
    

## 11.2. ENU (East, North, Up)

- Lokalne współrzędne:
    
    - **X → East**,
        
    - **Y → North**,
        
    - **Z → Up**.
        
- Alternatywa dla systemu NED (North–East–Down).
    
- Oba są **prawoskrętne**.
    

* * *

# 12\. **Skrętność układów odniesienia**

- Układy mogą być:
    
    - **prawoskrętne** – stosowane powszechnie w geodezji, grafice 3D, Androidzie,
        
    - **lewoskrętne** – rzadziej spotykane.
        
- Obowiązuje **reguła prawej dłoni**:
    
    - Kciuk → oś X
        
    - Palec wskazujący → oś Y
        
    - Środkowy → oś Z
        

* * *

# 13\. **Deklinacja magnetyczna**

## 13.1. Czym jest?

- Kąt między północą magnetyczną a geograficzną.
    
- Może być dodatnia (wschód) lub ujemna (zachód).
    
- Wartość zależy od:
    
    - położenia,
        
    - czasu,
        
    - warunków geologicznych.
        

## 13.2. Znaczenie praktyczne

Zacytowany przykład:

- W Warszawie ok. **4° 19′** (2005).
    
- błąd w kierunku na 1 km → ok. 70 m (!).
    
- W Nowej Zelandii nawet **25°**, co może dramatycznie zmienić kierunek marszu.
    

Mapa globalnej deklinacji znajduje się na str. 22.

* * *

# 14\. **Inklinacja magnetyczna**

- Kąt między wektorem pola magnetycznego a horyzontem.
    
- Mierzona jako składowa **pionowa** pola.
    
- W Polsce ≈ **+66°**.
    
- Im bliżej biegunów, tym większe nachylenie linii pola.
    
- Ilustracja na str. 23 pokazuje rozkład inklinacji.
    

* * *

# 15\. **Wyważanie kompasów**

- Kompasy produkowane są w różnych **strefach magnetycznych** świata.
    
- Igła jest wyważana tak, aby kompensować lokalną inklinację.
    
- Kompas z innej strefy może działać **niepoprawnie** (np. ocieranie o tarczę lub zawieszanie się).
    

Mapa stref wyważania — str. 25.