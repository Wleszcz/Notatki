# 1\. **Globalne systemy nawigacji satelitarnej – GNSS**

GNSS = **Global Navigation Satellite Systems** – rodzina systemów nawigacji satelitarnej zapewniających globalne wyznaczanie pozycji.

## 1.1. GPS – NAVSTAR (USA)

- Zarządzany przez **Departament Obrony USA**.
    
- 1978 – pierwszy satelita,
    
- 1994 – pełny globalny zasięg.
    
- Standard obecny we wszystkich urządzeniach mobilnych.
    

## 1.2. GLONASS (Rosja)

- Start 1982, globalny zasięg od 1995.
    
- Kryzys technologiczny → spadek funkcjonalności,
    
- 2011 – pełne odtworzenie konstelacji.
    

## 1.3. BeiDou (Chiny)

- Start 2000 (system lokalny),
    
- Od 2018 pełny system globalny.
    

## 1.4. Galileo (UE + ESA)

- System **cywilny**, nie wojskowy.
    
- Start 2011,
    
- Pełna konstelacja: **2024**.
    

* * *

# 2\. **Orbity satelitów nawigacyjnych**

Ilustracja na stronie 3 pokazuje porównanie orbit GPS, Galileo, GLONASS i BeiDou:

- Orbity GNSS to zwykle **średnia orbita Ziemi (MEO)**: ok. 20 000 km.
    
- Wyższe orbity (np. geostacjonarne) są wykorzystywane do innych celów.
    
- Grób-kaplica dla starych satelitów (tzw. „graveyard orbit”) znajduje się typowo kilkaset km nad orbitami geostacjonarnymi.
    

* * *

# 3\. **Co dzieje się ze starymi satelitami?**

Satelity po zakończeniu okresu życia eksploatacyjnego są:

- **sprowadzane z orbity** (niższe orbity → wejście w atmosferę → spalenie),
    
- kierowane na **orbitę cmentarną** (graveyard orbit) – oszczędza paliwo,
    
- wykorzystywane jako **kopie zapasowe** konstelacji.
    

* * *

# 4\. **GPS – jak działa? Segmenty systemu**

GPS składa się z trzech segmentów:

## 4.1. Segment kosmiczny

- ok. **31 aktywnych satelitów**.

## 4.2. Segment naziemny

- Stacje monitorujące trajektorie satelitów i ich stan.

## 4.3. Segment użytkownika

- Odbiorniki GNSS w telefonach, autach itd.

## 4.4. Informacje nadawane przez satelitę

- **Almanach** – uproszczone dane o położeniach wszystkich satelitów.
    
- **Efemerydy** – precyzyjne dane orbitalne jednego satelity.
    
- **Czas nadania sygnału** – kluczowy do pomiaru odległości.
    

* * *

# 5\. **Trilateracja – fundament wyznaczania pozycji**

Ilustracja na stronie 6 pokazuje proces trilateracji:

## 5.1. Ilość satelitów a możliwość wyznaczenia pozycji

- 1 satelita → odbiornik jest gdzieś na sferze sygnału.
    
- 2 satelity → przecięcie dwóch sfer daje **okrąg**.
    
- 3 satelity → dwa możliwe punkty (zwykle jeden jest niefizyczny).
    
- 4 satelity → **pełne wyznaczenie pozycji 3D**.
    

## 5.2. Dlaczego minimum to 4 satelity?

Dwa powody:

1.  Konieczność rozwiązania nieznanej **wysokości**.
    
2.  Brak idealnych zegarów w odbiorniku GNSS — trzeba skorygować błąd czasu.
    

* * *

# 6\. **Pomiary odległości – kodowe i fazowe**

## 6.1. Metoda kodowa (C/A code)

- Satelita i odbiornik generują **ten sam pseudolosowy kod C/A**.
    
- Odbiornik dopasowuje przesunięcie kodu odebranego do lokalnego.
    
- Pseudoodległość: `D = c * ΔT`.
    
- Pseudoodległość ≠ prawdziwa odległość (błędny zegar, opóźnienia).
    
- Dokładność: **kilka metrów**.
    

## 6.2. Metoda fazowa

- Bardziej precyzyjna – śledzenie **fazy** fali nośnej.
    
- Trudność: trzeba znać liczbę pełnych cykli między satelitą a odbiornikiem.
    
- Rozwiązywanie tego to tzw. **ambiguity resolution**.
    
- Najdokładniejsza metoda, wykorzystywana w technikach geodezyjnych.
    

* * *

# 7\. **Serwisy GPS: cywilny i wojskowy**

## 7.1. SPS – Standard Positioning Service (cywilny)

- Kod krótkiego zasięgu **C/A**,
    
- Częstotliwość: **L1 = 1575,42 MHz**,
    
- Kiedyś celowo degradowany (Selective Availability, usunięte w 2000).
    

## 7.2. PPS – Precise Positioning Service (wojskowy)

- Kod **P-code** (długi, zaszyfrowany),
    
- Częstotliwości: **L2 = 1227,60 MHz** oraz L1,
    
- Umożliwia precyzyjną korekcję wpływu jonosfery dzięki dwóm częstotliwościom.
    

## 7.3. Cywilna kompensacja błędów

- Modele matematyczne opóźnień jonosferycznych
    
- **DGNSS** (differential GNSS)
    

* * *

# 8\. **Różnicowe systemy GNSS – DGNSS**

Różnicowy GNSS podnosi dokładność do poziomu decymetrów.

## 8.1. Zasada działania

- Wykorzystuje **stację referencyjną** o znanej dokładnej pozycji.
    
- Stacja wyznacza **poprawki** (błędy zegara, efemeryd, opóźnienia jonosferyczno-troposferyczne).
    
- Poprawki przesyłane do mobilnych odbiorników:
    
    - radiowo,
        
    - GPRS/WLAN.
        

## 8.2. Zasięg i rodzaje

- Zasięg: **do 20 km**.
    
- Typy:
    
    - DGPS,
        
    - RTK (Real-Time Kinematic),
        
    - WARTK.
        

* * *

# 9\. **Dilution of Precision – DOP (rozwodnienie dokładności)**

DOP = wskaźnik jakości geometrii satelitów.

- Zależy od **rozmieszczenia satelitów** względem odbiornika.
    
- DOP ≤ 5 → dobra jakość,
    
- DOP > 20 → bardzo zła.
    

Rodzaje:

- **HDOP** – dokładność pozioma (horizontal),
    
- **VDOP** – dokładność pionowa (vertical).
    

* * *

# 10\. **GPS Spoofing – fałszowanie sygnału GPS**

Atak polegający na nadawaniu **fałszywego sygnału GPS** z:

- inną pozycją,
    
- innym czasem.
    

## 10.1. Mechanika ataku

- Fałszywy sygnał musi mieć **większą moc**, aby zagłuszyć prawdziwy.
    
- Wymagane:
    
    - urządzenie generujące sygnał,
        
    - antena nadawcza,
        
    - mocny wzmacniacz.
        

## 10.2. Zastosowania (często realne)

- Przekierowanie dronów (używane przez Rosję, m.in. Kreml, Syria, Ukraina).
    
- Omijanie geofencingu (np. ciężarówki, ochrona lotnisk).
    
- Omijanie blokad regionalnych gier i filmów.
    
- Oszukiwanie gier (np. Pokémon GO).
    

* * *

# 11\. **Zapobieganie GPS Spoofingowi**

Metody defensywne:

- Wykrywanie **anomalii sygnału** (np. zbyt silny sygnał).
    
- Wiele anten → wykrywanie nietypowych kierunków sygnału.
    
- Wspomaganie **nawigacją inercjalną** (IMU: akcelerometr + żyroskop).
    
- Fizyczna ochrona anteny (ukrycie).
    
- „Atrapowe anteny” oddalone o min. 300 m.
    

* * *

# 12\. **GNSS w Androidzie – praktyczne użycie**

## 12.1. Uprawnienia

- **ACCESS_FINE_LOCATION** – obowiązkowe.
    
- Jeśli używamy A-GPS i Wi-Fi:
    
    - również **INTERNET**.

## 12.2. Implementacja

1.  Implementacja `LocationListener`.
    
2.  Kluczowa metoda:
    
    `onLocationChanged(Location location)`
    
3.  Otrzymywane dane:
    
    - współrzędne,
        
    - wysokość n.p.m.,
        
    - dokładność, prędkość itp.
        

## 12.3. LocationManager

- Służy do rejestrowania `LocationListener`a.

## 12.4. Dodatki

- Dostęp do listy satelitów – `GpsStatus.Listener`.
    
- Odczyt depesz NMEA – `GpsStatus.NmeaListener`.